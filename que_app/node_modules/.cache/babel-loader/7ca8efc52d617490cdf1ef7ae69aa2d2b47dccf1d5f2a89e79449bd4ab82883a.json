{"ast":null,"code":"import React,{useState}from'react';import quizData from'./data/combined_questions.json';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function QuizApp(){const[selectedRange,setSelectedRange]=useState('all');const[questionCount,setQuestionCount]=useState(5);const[questions,setQuestions]=useState([]);const[score,setScore]=useState(0);const[showResult,setShowResult]=useState(false);const startQuiz=()=>{let rangeQuestions;if(selectedRange==='all'){// 組合所有章節的題目\nrangeQuestions=quizData.chapters.flatMap(chap=>chap.questions);}else{// 僅選擇特定章節的題目\nrangeQuestions=quizData.chapters.find(chap=>chap.chap===selectedRange).questions;}const selectedQuestions=rangeQuestions.sort(()=>0.5-Math.random()).slice(0,questionCount);setQuestions(selectedQuestions);setScore(0);setShowResult(false);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u6E2C\\u9A57\\u7CFB\\u7D71\"}),/*#__PURE__*/_jsx(\"label\",{children:\"\\u9078\\u64C7\\u7AE0\\u7BC0\\uFF1A\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedRange,onChange:e=>setSelectedRange(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"\\u6240\\u6709\\u7AE0\\u7BC0\"}),quizData.chapters.map(chap=>/*#__PURE__*/_jsx(\"option\",{value:chap.chap,children:chap.chap},chap.chap))]}),/*#__PURE__*/_jsx(\"label\",{children:\"\\u9078\\u64C7\\u984C\\u6578\\uFF1A\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:questionCount,onChange:e=>setQuestionCount(Number(e.target.value))}),/*#__PURE__*/_jsx(\"button\",{onClick:startQuiz,children:\"\\u958B\\u59CB\\u6E2C\\u9A57\"}),questions.map((question,index)=>/*#__PURE__*/_jsx(Question,{question:question,updateScore:isCorrect=>setScore(score+(isCorrect?1:0))},index)),showResult&&/*#__PURE__*/_jsx(Result,{score:score,questionCount:questionCount})]});}function Question(_ref){var _question$Detail6,_question$Detail7;let{question,updateScore}=_ref;const[selectedOption,setSelectedOption]=useState(null);const[isAnswered,setIsAnswered]=useState(false);const checkAnswer=()=>{var _question$Detail;const isCorrect=selectedOption===((_question$Detail=question.Detail)===null||_question$Detail===void 0?void 0:_question$Detail.Ans);updateScore(isCorrect);setIsAnswered(true);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:question.Que}),['A','B','C','D'].map(option=>{var _question$Detail2,_question$Detail4,_question$Detail5;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:`question${question.Q_Num}`,value:(_question$Detail2=question.Detail)===null||_question$Detail2===void 0?void 0:_question$Detail2[`Options_${option}`],onChange:()=>{var _question$Detail3;return setSelectedOption((_question$Detail3=question.Detail)===null||_question$Detail3===void 0?void 0:_question$Detail3[`Options_${option}`]);},disabled:!((_question$Detail4=question.Detail)!==null&&_question$Detail4!==void 0&&_question$Detail4[`Options_${option}`])// 禁用缺少的選項\n}),((_question$Detail5=question.Detail)===null||_question$Detail5===void 0?void 0:_question$Detail5[`Options_${option}`])||'N/A',\" \"]},option);}),/*#__PURE__*/_jsx(\"button\",{onClick:checkAnswer,disabled:isAnswered,children:\"\\u78BA\\u8A8D\\u7B54\\u6848\"}),isAnswered&&/*#__PURE__*/_jsxs(\"div\",{children:[selectedOption===((_question$Detail6=question.Detail)===null||_question$Detail6===void 0?void 0:_question$Detail6.Ans)?'正確!':'錯誤',/*#__PURE__*/_jsx(\"p\",{children:((_question$Detail7=question.Detail)===null||_question$Detail7===void 0?void 0:_question$Detail7.Detailed_Answer)||'無解答說明'})]})]});}function Result(_ref2){let{score,questionCount}=_ref2;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u6E2C\\u9A57\\u7D50\\u675F\\uFF01\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u60A8\\u7684\\u5206\\u6578\\u662F\\uFF1A\",score,\" / \",questionCount]})]});}export default QuizApp;","map":{"version":3,"names":["React","useState","quizData","jsx","_jsx","jsxs","_jsxs","QuizApp","selectedRange","setSelectedRange","questionCount","setQuestionCount","questions","setQuestions","score","setScore","showResult","setShowResult","startQuiz","rangeQuestions","chapters","flatMap","chap","find","selectedQuestions","sort","Math","random","slice","children","value","onChange","e","target","map","type","Number","onClick","question","index","Question","updateScore","isCorrect","Result","_ref","_question$Detail6","_question$Detail7","selectedOption","setSelectedOption","isAnswered","setIsAnswered","checkAnswer","_question$Detail","Detail","Ans","Que","option","_question$Detail2","_question$Detail4","_question$Detail5","name","Q_Num","_question$Detail3","disabled","Detailed_Answer","_ref2"],"sources":["/Users/yixiangliao/Downloads/題庫系統/que_app/src/QuizApp.js"],"sourcesContent":["import React, { useState } from 'react';\nimport quizData from './data/combined_questions.json';\n\nfunction QuizApp() {\n  const [selectedRange, setSelectedRange] = useState('all');\n  const [questionCount, setQuestionCount] = useState(5);\n  const [questions, setQuestions] = useState([]);\n  const [score, setScore] = useState(0);\n  const [showResult, setShowResult] = useState(false);\n\n  const startQuiz = () => {\n    let rangeQuestions;\n\n    if (selectedRange === 'all') {\n      // 組合所有章節的題目\n      rangeQuestions = quizData.chapters.flatMap(chap => chap.questions);\n    } else {\n      // 僅選擇特定章節的題目\n      rangeQuestions = quizData.chapters.find(chap => chap.chap === selectedRange).questions;\n    }\n\n    const selectedQuestions = rangeQuestions.sort(() => 0.5 - Math.random()).slice(0, questionCount);\n    setQuestions(selectedQuestions);\n    setScore(0);\n    setShowResult(false);\n  };\n\n  return (\n    <div>\n      <h1>測驗系統</h1>\n      <label>選擇章節：</label>\n      <select value={selectedRange} onChange={(e) => setSelectedRange(e.target.value)}>\n        <option value=\"all\">所有章節</option>\n        {quizData.chapters.map(chap => (\n          <option key={chap.chap} value={chap.chap}>{chap.chap}</option>\n        ))}\n      </select>\n\n      <label>選擇題數：</label>\n      <input\n        type=\"number\"\n        value={questionCount}\n        onChange={(e) => setQuestionCount(Number(e.target.value))}\n      />\n\n      <button onClick={startQuiz}>開始測驗</button>\n\n      {questions.map((question, index) => (\n        <Question\n          key={index}\n          question={question}\n          updateScore={(isCorrect) => setScore(score + (isCorrect ? 1 : 0))}\n        />\n      ))}\n\n      {showResult && <Result score={score} questionCount={questionCount} />}\n    </div>\n  );\n}\n\nfunction Question({ question, updateScore }) {\n  const [selectedOption, setSelectedOption] = useState(null);\n  const [isAnswered, setIsAnswered] = useState(false);\n\n  const checkAnswer = () => {\n    const isCorrect = selectedOption === question.Detail?.Ans;\n    updateScore(isCorrect);\n    setIsAnswered(true);\n  };\n\n  return (\n    <div>\n      <h2>{question.Que}</h2>\n      {['A', 'B', 'C', 'D'].map(option => (\n        <div key={option}>\n          <input\n            type=\"radio\"\n            name={`question${question.Q_Num}`}\n            value={question.Detail?.[`Options_${option}`]}\n            onChange={() => setSelectedOption(question.Detail?.[`Options_${option}`])}\n            disabled={!question.Detail?.[`Options_${option}`]} // 禁用缺少的選項\n          />\n          {question.Detail?.[`Options_${option}`] || 'N/A'} {/* 顯示 N/A 或其他替代內容 */}\n        </div>\n      ))}\n      <button onClick={checkAnswer} disabled={isAnswered}>確認答案</button>\n\n      {isAnswered && (\n        <div>\n          {selectedOption === question.Detail?.Ans ? '正確!' : '錯誤'}\n          <p>{question.Detail?.Detailed_Answer || '無解答說明'}</p>\n        </div>\n      )}\n    </div>\n  );\n}\n\nfunction Result({ score, questionCount }) {\n  return (\n    <div>\n      <h2>測驗結束！</h2>\n      <p>您的分數是：{score} / {questionCount}</p>\n    </div>\n  );\n}\n\nexport default QuizApp;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}